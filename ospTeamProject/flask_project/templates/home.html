{% extends "index.html" %}

{% block sectionheader %}
<title>홈 화면</title>

<!--jQuery-->
<script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

<!--slick slider 라이브러리 import-->
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />

<script src="{{ url_for('static', filename='home.js') }}" defer></script>
<link rel="stylesheet" href="{{url_for('static', filename='home.css') }}">
{% endblock sectionheader %}

{% block section %}

<main class="pg_main">
    <article id="contents">

        <div class="floating-button">
            <div class="floating-hidden">
                <a href="/mapSearch">
                    <div class="floating icon-map"></div>
                </a>
                <a href="/list">
                    <div class="floating icon-restaurantList"></div>
                </a>
                <a href="/restaurantUpload">
                    <div class="floating icon-restaurantUpload"></div>
                </a>
            </div>
            <div class="floating icon-menu">
            </div>
        </div>

        <section id="restaurantRecommend">
            <div id="menuType">
                <button class="typeButton current" id="typeTotal" data-tab="tab-1">total</button>
                <button class="typeButton" id="typeKorean" data-tab="tab-2">한식</button>
                <button class="typeButton" id="typeChinese" data-tab="tab-3">중식</button>
                <button class="typeButton" id="typeJapanese" data-tab="tab-4">일식</button>
                <button class="typeButton" id="typeWestern" data-tab="tab-5">양식</button>
                <button class="typeButton" id="typeCafe" data-tab="tab-6">카페</button>
            </div>
            <div class="moreList">
                <button onclick="mapSearch.html">+지도로 더보기</button>
                <button onclick="restaurantShow.html">+리스트 더보기</button>
            </div>
            <div id="recommendBox">
                <button class='btn-nav prev-slick-arrow' id='prev-slick-arrow'></button>

                <div id="tab-1" class="tab-content current">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize">
                            {% if tot_count > 0 %}
                            {%for total in totals%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{total[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{total[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{total[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{total[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{total[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>

                <div id="tab-2" class="tab-content">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize">
                            {% if kor_count > 0 %}
                            {%for korean in koreans%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{korean[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{korean[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{korean[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{korean[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{korean[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>

                <div id="tab-3" class="tab-content">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize"> 
                            {% if chi_count > 0 %}
                            {%for chinese in chineses%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{chinese[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{chinese[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{chinese[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{chinese[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{chinese[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>
                <div id="tab-4" class="tab-content">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize">
                            {% if jap_count > 0 %}
                            {%for japanese in japaneses%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{japanese[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{japanese[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{japanese[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{japanese[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{japanese[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>
                <div id="tab-5" class="tab-content">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize">
                            {% if wes_count > 0 %}
                            {%for western in westerns%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{western[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{western[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{western[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{western[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{western[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>
                <div id="tab-6" class="tab-content">
                    <div id="recommendInnerBox">
                        <ul class="forTabSize">
                            {% if caf_count > 0 %}
                            {%for cafe in cafes%}
                            <li class="innerslide">
                                <div class="restaurant-item" onclick="location.href='/view_detail/{{cafe[1].Rname}}/';">
                                    <div class="thumb thumb1"
                                        style="background-image:url(../static/image/{{cafe[1].image_path}})"></div>
                                    <div class="info">
                                        <p style="margin-top:70px;"></p>
                                        <div class="starBox">
                                        <div class="star-ratings">
                                            <div class="star-ratings-fill space-x-2 text-lg" id="starjs" style="width:{{cafe[1].avg_rate_per}}%">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                            <div class="star-ratings-base space-x-2 text-lg">
                                                <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                                            </div>
                                        </div><span class="starNum">&nbsp;&nbsp;({{cafe[1].avg_rate}})</span></div>
                                        <div class="restaurantTitle">{{cafe[1].Rname}}</div>
                                    </div>
                                </div>
                            </li>
                            {%endfor%}
                            {%else%}<div style="width:100%; height:240px;">맛집을 새로 등록해주세요!</div>{%endif%}
                        </ul>
                    </div>
                </div>

                <button class='btn-nav next-slick-arrow' id='next-slick-arrow'></button>
            </div>
        </section>

        <section id="restaurantOfMonth">
            <button id="btn_restaurantOfMonth">이달의 맛집</button>
            <div id="box_restaurantOfMonth">

                <div id="silver">
                    <a>
                        <div>
                            <div class="medalBox">
                            </div>
                            <div>
                                <div class="silverCrownFix">
                                    <object class="silverCrown" type="image/svg+xml"></object>
                                </div>
                                <div class="restaurantTitle">식당 이름</div>
                            </div>
                        </div>
                    </a>
                </div>

                <div id="gold">
                    <a>
                        <div>
                            <div class="medalBox">
                            </div>
                            <div>
                                <div class="goldCrownFix">
                                    <object class="goldCrown" type="image/svg+xml"></object>
                                </div>
                                <div class="restaurantTitle">식당 이름</div>
                            </div>
                        </div>
                    </a>
                </div>

                <div id="bronze">
                    <a>
                        <div>
                            <div class="medalBox">
                            </div>
                            <div>
                                <div class="bronzeCrownFix">
                                    <object class="bronzeCrown" type="image/svg+xml"></object>
                                </div>
                                <div class="restaurantTitle">식당 이름</div>
                            </div>
                        </div>
                    </a>
                </div>

            </div>
        </section>

    </article>
</main>
{% endblock section %}